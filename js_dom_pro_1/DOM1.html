<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="X-UA-compatible" content="IE=edge,chrome=1" />
    <style type="text/css">
        a {
            display: block;
            width: 20px;height: 20px;
            margin-top: 6px;
            text-decoration: none;
            border-radius: 50px;
            background: #fff;
            color: #fff;
            border: 4px solid #FFFFFF;
        }
        a:hover {
            border-color: #1abc9c; 
            background: #1abc9c;
        }
        li {
            list-style: none;
            float: left;
            width: 40px;height: 40px;
            background: #D7DCE0;
            text-align: center;
            padding-left: 6px;

            /*line-height: 40px;*/
        }
        li:first-child {
            margin-right: 4px;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }
        li:first-child a {
            color: #aaa;
        }
        li:last-child {
            margin-left: 4px;
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
        }
        li:last-child a {
            color: #aaa;
        }
        .active a {
            color: #d7dce0;
            border-color: #d7dce0;
        }

    </style>
    <title>DOM练习</title>
</head>
<body>
    <ul id="dom">
        <li class="previous"><a href="#"><</a></li>
        <li class="item"><a href="#">1</a></li>
        <li class="item"><a href="#">2</a></li>
        <li class="item"><a href="#">3</a></li>
        <li class="item"><a href="#">4</a></li>
        <li class="item"><a href="#">5</a></li>
        <li class="item"><a href="#">6</a></li>
        <li class="item"><a href="#">7</a></li>
        <li class="item"><a href="#">8</a></li>
        <li class="item"><a href="#">9</a></li>
        <li class="next"><a href="#">></a></li>
    </ul>
    <script type="text/javascript">
        //声明部分
        var dom = document.getElementById('dom');
        var items = dom.getElementsByClassName('item');
        var previouses = dom.getElementsByClassName('previous');
        var nexts = dom.getElementsByClassName('next');
        //函数部分
        var clearActive = function() {
            var actives = dom.getElementsByClassName('active'); 
            for (var i = 0; i < actives.length; i++) {
                var active =actives[i];
                active.setAttribute('class', 'item');
            };
        }
        var setPrevious = function(){
            var actives = dom.getElementsByClassName('active'); 
            var active = actives[0];
            if (items[0] == active) { // is first item
                var lastItem = items[items.length -1];
                clearActive();
                lastItem.setAttribute('class', 'item active');
            } else {
                do active = active.previousSibling;
                while (active && active.nodeType != 1);
                clearActive();
                active.setAttribute('class', 'item active');
            }
        };

        var setNext = function(){
            var actives = dom.getElementsByClassName('active'); 
            var active = actives[0];
            if (items[items.length -1] == active) { // is first item
                var firstItem = items[0];
                clearActive();
                firstItem.setAttribute('class', 'item active');
            } else {
                do active = active.nextSibling;
                while (active && active.nodeType != 1);
                clearActive();
                active.setAttribute('class', 'item active');
            }
        };
        // for (var i = 0; i < items.length; i++) {
        //     var item = items[i];
        //     item.onclick = function(){
        //         clearActive();
        //         this.setAttribute('class', 'item active');
        //     }
        // }       
        // for (var i = 0; i < previouses.length; i++) {
        //     var previous = previouses[i];
        //     previous.onclick = function(){
        //         setPrevious();
        //     };
        // }
        // for (var i = 0; i < nexts.length; i++) {
        //     var next = nexts[i];
        //     next.onclick = function(){
        //         setNext();
        //     };
        // }

        //事件绑定部分
        document.onclick = function(event){
            var target = event.target.parentNode;
            var isClass = target.getAttribute('class');
            if (isClass == 'item') {
                clearActive();
                target.setAttribute('class', 'item active');
            } else if (isClass == 'previous') {
                // clearActive();
                setPrevious();

            } else if (isClass == 'next') {
                setNext();
            }
        };

    </script>
</body>
</html>